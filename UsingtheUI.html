

<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="generator" content="HelpNDoc Professional Edition 6.9.0.577">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="favicon.ico"/>

  <title>Using the UI</title>
  <meta name="description" content="" /> 
  <meta name="keywords" content="">



  

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Using the UI">
  <meta name="twitter:description" content="">

  <!-- Open Graph data -->
  <meta property="og:title" content="Using the UI" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="alpha360 Docs" /> 

  <!-- Bootstrap core CSS -->
  <link href="vendors/bootstrap-3.4.1/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="vendors/bootstrap-3.4.1/css/ie10-viewport-bug-workaround.css" rel="stylesheet"/>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="vendors/html5shiv-3.7.3/html5shiv.min.js"></script>
      <script src="vendors/respond-1.4.2/respond.min.js"></script>
    <![endif]-->

  <!-- JsTree styles -->
  <link href="vendors/jstree-3.3.7/themes/default/style.min.css" rel="stylesheet"/>

  <!-- Hnd styles -->
  <link href="css/layout.min.css" rel="stylesheet" />
  <link href="css/effects.min.css" rel="stylesheet" />
  <link href="css/theme-light-blue.min.css" rel="stylesheet" />
  <link href="css/print.min.css" rel="stylesheet" media="print" />
  <style type="text/css">nav { width: 350px} @media screen and (min-width:769px) { body.md-nav-expanded div#main { margin-left: 350px} body.md-nav-expanded header { padding-left: 364px} }</style>

  <!-- Content style -->
  <link href="css/hnd.content.css" rel="stylesheet" />

  



</head>

<body class="md-nav-expanded">



  <div id="skip-link">
    <a href="#main-content" class="element-invisible">Skip to main content</a>
  </div>

  <header class="headroom">
    <button class="hnd-toggle btn btn-default">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>        
    </button>
    <h1>alpha360 Docs</h1>
    
  </header>

  <nav class="md-nav-expanded">
    <!-- Nav tabs -->
    <ul class="tab-tabs nav nav-tabs" role="tablist">
      <li id="nav-close"> 
        <button class="hnd-toggle btn btn-default">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
      </li>
      
	  
        <li role="presentation" class="tab active">
            <a href="#contents" id="tab-contents" aria-controls="contents" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-list"></i>
                Contents
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#index" id="tab-index" aria-controls="index" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-asterisk"></i>
                Index
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#search" id="tab-search" aria-controls="search" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-search"></i>
                Search
            </a>
        </li>
      
    </ul>  <!-- /Nav tabs -->

    <!-- Tab panes -->
    <div class="tab-content">
	  
      <div role="tabpanel" class="tab-pane active" id="contents">
        <div id="toc" class="tree-container unselectable"
            data-url="_toc.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /contents-->
      
      <div role="tabpanel" class="tab-pane" id="index">
        <div id="keywords" class="tree-container unselectable"
            data-url="_keywords.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /index-->
      
      <div role="tabpanel" class="tab-pane" id="search">
        <div class="search-content">
          <div class="search-input">
            <form id="search-form">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" class="form-control" id="input-search" name="input-search" placeholder="Search..." />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit">
                      <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    </button>
                  </span>
                </div>
              </div>
            </form>
          </div>  <!-- /search-input -->
          <div class="search-result">
            <div id="search-info"></div>
            <div class="tree-container unselectable" id="search-tree"></div>
          </div>  <!-- /search-result -->
        </div>  <!-- /search-content -->
      </div>  <!-- /search-->
      
    </div>  <!-- /Tab panes -->

  </nav>

  <div id="main">

    <article>
        <div id="topic-content" class="container-fluid" 
		  data-hnd-id="UsingtheUI"
		  data-hnd-context="41"
		  data-hnd-title="Using the UI"
		>
            
                <div class="navigation">
                    <ol class="breadcrumb">
                        <li><a href="alpha360BusinessApplicationsWLve.html">alpha360 Business Applications [WL versions]</a></li><li><a href="alpha360UIv2.html">alpha360 UI [v2]</a></li>
                    </ol>
                    <div class="nav-arrows">
                        <div class="btn-group btn-group-xs" role="group"><a class="btn btn-default" href="alpha360UIv2.html" title="alpha360 UI [v2]" role="button"><span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span></a><a class="btn btn-default" href="ClosingaWindow.html" title="Closing a Window" role="button"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span></a><a class="btn btn-default" href="alpha360BPs.html" title="alpha360 BPs" role="button"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span></a></div>
                    </div>
                </div> 
            

            <a id="main-content"></a>

            <h2>Using the UI</h2>

            <div class="main-content">
                
<p></p>
<p class="rvps2"><span class="rvts11">Here we are going to take a closer look at the implementation of a Browse/Form "paradigm", included in the alpha360 projects:&nbsp;</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 28px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts11">Browse - an internal window that contains our Products - IWB_Products</span></li>
<li class="rvps2"><span class="rvts11">Form - an internal window that contains ONE Entity Object&nbsp;from our Products - IWF_Product</span></li>
</ul>
<p class="rvps2"><span class="rvts11">​</span></p>
<p class="rvps2"><span class="rvts26">Browse - IWB_Products [internal window or IW]</span></p>
<p class="rvps2"><span class="rvts11">This&nbsp;IW contains a table control, that is populated by a query,&nbsp;Query_Products.</span></p>
<p class="rvps2"><span class="rvts11">​</span></p>
<p class="rvps2"><span class="rvts11">At the Global Area of the IW, we have the following:</span></p>
<p class="rvps2"><span class="rvts25">PROCEDURE IWB_Products(LOCAL p_OpenWindow is ST_a360_DynamicWindow)</span></p>
<p class="rvps2"><span class="rvts11">​</span></p>
<p class="rvps2"><span class="rvts11">and at the End of Initialization ... :</span></p>
<p class="rvps2"><span class="rvts25">UI_Format()</span></p>
<p class="rvps2"><span class="rvts11">This is a local procedure and "formats" the various data, depending on our configuration - take a look at it for more information.</span></p>
<p class="rvps2"><span class="rvts11">​</span></p>
<p class="rvps2"><span class="rvts12">Call the Browse</span></p>
<p class="rvps2"><span class="rvts11">We can call&nbsp;this IW from ANYWHERE in our application and it will be embedded (by default) in our standard Dynamic TAB -&nbsp;"TAB_Dynamic" in the "MNU_ERP" window.</span></p>
<p class="rvps2"><span class="rvts24">&nbsp;</span></p>
<p class="rvps2"><span class="rvts11">To "call" it, we just need to use the following syntax:</span></p>
<p class="rvps2"><span class="rvts25">a360_OpenWindow_Menu("TAB_Dynamic", "IWB_Products", 100, "","",False)</span></p>
<p class="rvps2"><span class="rvts24">​</span></p>
<p class="rvps2"><span class="rvts11">The&nbsp;</span><span class="rvts25">a360_OpenWindow_Menu()</span><span class="rvts11">is a simple function, designed to quickly call Browse type IW. Behind the scenes, it calls&nbsp;</span><span class="rvts25">a360_OpenWindow</span><span class="rvts11">&nbsp;- see the code for more information.</span></p>
<p class="rvps2"><span class="rvts24">​</span></p>
<p class="rvps2"><span class="rvts11">Note, that when "calling" Browse IWs, we don't generally need to pass any data - like PKs, FKs etc.</span></p>
<p class="rvps2"><span class="rvts11">The only time data may be passed to a Browse&nbsp;is when a Form is closed. It is then done automatically by the UI - it uses the local procedure,&nbsp;</span><span class="rvts25">UI_RefreshRequest</span><span class="rvts11">, to implement it.</span></p>
<p class="rvps2"><span class="rvts11">​</span></p>
<p class="rvps2"><span class="rvts12">Call the Form</span></p>
<p class="rvps2"><span class="rvts11">There are basically 3 reasons to "call" a Form from a Browse:</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 28px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts11">To add a entity&nbsp;record&nbsp;-&gt; we call&nbsp;</span><span class="rvts25">UI_Add</span></li>
<li class="rvps2"><span class="rvts11">To edit a entity&nbsp;record -&gt; we call&nbsp;</span><span class="rvts25">UI_Edit</span></li>
<li class="rvps2"><span class="rvts11">To delete a entity&nbsp;record -&gt; we call&nbsp;</span><span class="rvts25">UI_Delete</span></li>
</ul>
<p class="rvps2"><span class="rvts24"><br/></span></p>
<p class="rvps2"><span class="rvts24">​</span></p>
<p class="rvps2"><span class="rvts12">The UI_Add() local procedure</span></p>
<p class="rvps2"><span class="rvts11">What we conceptually do is:</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 28px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts11">create a&nbsp;</span><span class="rvts25">ST_a360_DynamicWindow</span><span class="rvts11">&nbsp;variable</span></li>
<li class="rvps2"><span class="rvts11">assign the&nbsp;</span><span class="rvts25">.nAction</span><span class="rvts11">&nbsp;member the value of 1 [meaning add/insert]</span></li>
<li class="rvps2"><span class="rvts11">assign the&nbsp;</span><span class="rvts25">.sDynamicInternalWindow member</span><span class="rvts11">&nbsp;the value of the iw Form</span></li>
<li class="rvps2"><span class="rvts11">assign the&nbsp;</span><span class="rvts25">.sReturnTOWindow&nbsp;member&nbsp;</span><span class="rvts11">the value of the iw to return to, after the user closes&nbsp;the Form</span></li>
<li class="rvps2"><span class="rvts11">call&nbsp;</span><span class="rvts25">a360_OpenWindow(e_OpenWindow)</span><span class="rvts11">to embed the window in the default TAB</span></li>
</ul>
<p class="rvps2"><span class="rvts24">​</span></p>
<p class="rvps2"><span class="rvts11">Here is the code:</span></p>
<p class="rvps2"><span class="rvts27">e_OpenWindow is ST_a360_DynamicWindow</span><br/><span class="rvts27">&nbsp;// Initialize the structure to pass to a360_OpenWindow .........</span><br/><span class="rvts27">e_OpenWindow.nAction=1&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;// Insert</span><br/><span class="rvts27">e_OpenWindow.sDynamicInternalWindow="IWF_Product"</span><br/><span class="rvts27">e_OpenWindow.sReturnTOWindow="IWB_Products"&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;// The name of the IW to Focus after closing</span></p>
<p class="rvps2"><span class="rvts27">// Now Open the Window with the UI ......</span><br/><span class="rvts27">a360_OpenWindow(e_OpenWindow)</span></p>
<p class="rvps2"><span class="rvts24">​</span></p>
<p class="rvps2"><span class="rvts12">The UI_Edit() local procedure</span></p>
<p class="rvps2"><span class="rvts11">What we conceptually do is:</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 28px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts11">create a&nbsp;</span><span class="rvts25">ST_a360_DynamicWindow</span><span class="rvts11">&nbsp;variable</span></li>
<li class="rvps2"><span class="rvts11">check to make sure the user has selected a "record" from the table</span></li>
<li class="rvps2"><span class="rvts11">assign the&nbsp;</span><span class="rvts25">.nAction</span><span class="rvts11">&nbsp;member the value of 2 [meaning edit]</span></li>
<li class="rvps2"><span class="rvts11">assign the&nbsp;</span><span class="rvts25">.sPK</span><span class="rvts11">&nbsp;member the value of the selected PK</span></li>
<li class="rvps2"><span class="rvts11">assign the&nbsp;</span><span class="rvts25">.sDynamicInternalWindow member</span><span class="rvts11">&nbsp;the value of the iw Form</span></li>
<li class="rvps2"><span class="rvts11">assign the&nbsp;</span><span class="rvts25">.sDynamicInternalWindowID member</span><span class="rvts11">&nbsp;the value of the iw Form plus the selectedPK, because we wan't to allow simultaneous editing of different records</span></li>
<li class="rvps2"><span class="rvts11">assign the&nbsp;</span><span class="rvts25">.sReturnTOWindow&nbsp;member&nbsp;</span><span class="rvts11">the value of the iw to return to, after the user closes&nbsp;the Form</span></li>
<li class="rvps2"><span class="rvts11">call&nbsp;</span><span class="rvts25">a360_OpenWindow(e_OpenWindow)</span><span class="rvts11">to embed the window in the default TAB</span></li>
</ul>
<p class="rvps2"><span class="rvts24">​</span></p>
<p class="rvps2"><span class="rvts11">Here is the code:</span></p>
<p class="rvps2"><span class="rvts27">selectedPK is string</span><br/><span class="rvts27">e_OpenWindow is ST_a360_DynamicWindow</span></p>
<p class="rvps2"><span class="rvts27">// Check to see if a record is selected in the Browse ...</span><br/><span class="rvts27">IF TableSelect(Table_Query_Products) =-1 THEN RETURN</span><br/><span class="rvts27">selectedPK=Table_Query_Products.sProductPK// Remember this is the PK</span></p>
<p class="rvps2"><span class="rvts27">// Initialize the structure to pass to a360_OpenWindow ...</span><br/><span class="rvts27">e_OpenWindow.nAction=2&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; // Edit</span><br/><span class="rvts27">e_OpenWindow.sPK=selectedPK&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Primary Key [when Changing, Deleting or Viewing]</span><br/><span class="rvts27">e_OpenWindow.sDynamicInternalWindow="IWF_Product"</span><br/><span class="rvts27">e_OpenWindow.sDynamicInternalWindowID=e_OpenWindow.sDynamicInternalWindow+selectedPK</span><br/><span class="rvts27">e_OpenWindow.sReturnTOWindow="IWB_Products"&nbsp;&nbsp; &nbsp;// The name of the IW to Focus after closing&nbsp;</span></p>
<p class="rvps2"><span class="rvts27">// Now Open the Window with the UI ......</span><br/><span class="rvts27">a360_OpenWindow(e_OpenWindow)</span></p>
<p class="rvps2"><span class="rvts11">​</span></p>
<p class="rvps2"><span class="rvts11">​</span></p>
<p class="rvps2"><span class="rvts12">The UI_Delete) local procedure</span></p>
<p class="rvps2"><span class="rvts11">We do the same coding as when editing, but we pass to the&nbsp;</span><span class="rvts25">.nAction</span><span class="rvts11">&nbsp;member the value of 3:</span></p>
<p class="rvps2"><span class="rvts27">e_OpenWindow.nAction=3&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; // Delete</span></p>
<p class="rvps2"><span class="rvts24">&nbsp;</span></p>
<p class="rvps2"><span class="rvts24">​</span></p>
<p class="rvps2"><span class="rvts26">Form - IWF_Product&nbsp;[internal window or IW]</span></p>
<p class="rvps2"><span class="rvts11">This IW contains - screen fields, linked to local record variables.</span></p>
<p class="rvps2"><span class="rvts11">In more complicated entities - like Invoices - forms can also contain table controls.</span></p>
<p class="rvps2"><span class="rvts11">Note: the forms that handle tables with ONLY one record - like the gConfiguration table - are linked directly to table buffers and not to local record variables.</span></p>
<p class="rvps2"><span class="rvts24">&nbsp;</span></p>
<p class="rvps2"><span class="rvts11">At the Global Area of the iw, we have the following:</span></p>
<p class="rvps2"><span class="rvts25">PROCEDURE IWF_Product(LOCAL p_OpenWindow is ST_a360_DynamicWindow)</span></p>
<p class="rvps2"><span class="rvts27">// Return this for Searches, filters etc&nbsp;</span><br/><span class="rvts27">// to the p_OpenWindow.sReturnTOWindow</span><br/><span class="rvts27">sReturnThis is string = ""</span></p>
<p class="rvps2"><span class="rvts27">​</span></p>
<p class="rvps2"><span class="rvts27">// Critical Errors ...</span><br/><span class="rvts27">w_bCriticalError is boolean=False</span><br/><span class="rvts27">w_bCriticalErrorMessage is string = ""</span></p>
<p class="rvps2"><span class="rvts27">​</span></p>
<p class="rvps2"><span class="rvts27">// Main Record Variables ...</span><br/><span class="rvts27">r_gProduct is Record of gProduct</span><br/><span class="rvts27">r_gProduct_Class is Record of gProduct_Class</span></p>
<p class="rvps2"><span class="rvts27">// A Copy of the Record Variables ...</span><br/><span class="rvts27">rc_gProduct is Record of gProduct</span><br/><span class="rvts27">rc_gProduct_Class is Record of gProduct_Class</span></p>
<p class="rvps2"><span class="rvts25">​</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 28px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts11">We have a variable&nbsp;</span><span class="rvts25">sReturnThis</span><span class="rvts11">, to return values</span></li>
<li class="rvps2"><span class="rvts11">Variables to catch and show messages for Critical Errors (more on this below)</span></li>
<li class="rvps2"><span class="rvts11">and double Record structures for all files in this entity</span></li>
</ul>
<p class="rvps2"><span class="rvts25">​</span></p>
<p class="rvps2"><span class="rvts11">and at the End of Initialization ... :</span></p>
<p class="rvps2"><span class="rvts25">UI_Format()</span></p>
<p class="rvps2"><span class="rvts11">This is a local procedure that "formats" the various data, depending on our configuration - take a look at the code for more information.</span></p>
<p class="rvps2"><span class="rvts11">​</span></p>
<p class="rvps2"><span class="rvts25">UI_Init()</span></p>
<p class="rvps2"><span class="rvts11">This is a local procedure that Initializes the screen variables.</span></p>
<p class="rvps2"><span class="rvts24">​</span></p>
<p class="rvps2"><span class="rvts12">UI_Init</span></p>
<p class="rvps2"><span class="rvts11">This procedure initializes the record variables and&nbsp;various screen elements, depending on the reason the Form&nbsp;was called.</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 28px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts11">If it was called for an add/insert operation, with&nbsp;</span><span class="rvts25">p_OpenWindow.nAction=1</span><span class="rvts11">, it resets the record variables and it assigns to them, "default values".</span></li>
<li class="rvps2"><span class="rvts11">If it was called for an edit or delete operation, with&nbsp;</span><span class="rvts25">p_OpenWindow.nAction=2[or 3]</span><span class="rvts11">, it retrieves the various records of the entity, and it copies them to the record variables.</span></li>
<li class="rvps2"><span class="rvts11">at the end it uses&nbsp;</span><span class="rvts25">SourceToScreen()</span><span class="rvts11">&nbsp;to copy everything to the screen elements.</span></li>
</ul>
<p class="rvps2"><span class="rvts11">&nbsp;</span></p>
<p class="rvps2"><span class="rvts11">Remember*: all screen elements are "linked" to the main variable record structures, defined at the global area of the Form and NOT to file variables,</span></p>
<p class="rvps2"><span class="rvts11">​</span></p>
<p class="rvps2"><span class="rvts11">We can now go on with our "data entry" and - at the end - select one of the following actions&nbsp;:</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 28px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts11">Click the &lt;Cancel Button&gt; to&nbsp;run&nbsp;the local procedure,&nbsp;</span><span class="rvts25">UI_Cancel()</span><span class="rvts11">.</span></li>
</ul>
<p class="rvps2"><span class="rvts11">This procedure calls the&nbsp;</span><span class="rvts25">UI_Close()</span><span class="rvts11">&nbsp;local procedure and it "removes" the Form from the Dynamic TAB.</span></p>
<p class="rvps2"><span class="rvts11">​</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 28px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts11">or Click the &lt;Save Button&gt; to&nbsp;run&nbsp;the local procedure,&nbsp;</span><span class="rvts25">UI_Save()</span><span class="rvts11">.</span></li>
</ul>
<p class="rvps2"><span class="rvts11">This procedure calls the&nbsp;</span><span class="rvts25">UI_Save()</span><span class="rvts11">&nbsp;local procedure that tries to "save" our data changes.</span></p>
<p class="rvps2"><span class="rvts11">The&nbsp;</span><span class="rvts25">UI_Save()</span><span class="rvts11">&nbsp;procedure checks for required fields and double entries, before calling the BPs.</span></p>
<p class="rvps2"><span class="rvts11">Follow the code and it's documentation for more information.</span></p>
<p class="rvps2"><span class="rvts24">&nbsp;</span></p>
<p class="rvps2"><span class="rvts11">BPs*: Business Processes are alpha360s procedures that handle adds, modifies, deletes, posts etc for the various data entities and are shared between WINDEV and WEBDEV configurations. The various record values are passed to BPs by variable record structures and arrays. They are enclosed in a Transaction Frame, they return a True or False and they "return"&nbsp;errors by a passed NON Local string variable - usually named&nbsp;</span><span class="rvts25">p_sErrorMessage</span><span class="rvts11">.</span></p>
<p class="rvps2"><span class="rvts11">You can find more information about the BPs in the Business Processes area.</span></p>
<p class="rvps2"><span class="rvts11">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts12">Return value(s) after closing the Form</span></p>
<p class="rvps2"><span class="rvts11">After a successful Add/Insert or Edit, the&nbsp;</span><span class="rvts25">sReturnThis</span><span class="rvts11">&nbsp;variable has the "PK of the entity" or here, the PK of the gProduct record.</span></p>
<p class="rvps2"><span class="rvts11">The global procedure&nbsp;</span><span class="rvts25">a360_CloseWindow()</span><span class="rvts11">, called from inside&nbsp;</span><span class="rvts25">UI_Close()</span><span class="rvts11">, does the following:</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 28px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts11">removes the Form from the Dynamic TAB</span></li>
<li class="rvps2"><span class="rvts11">gives FOCUS to the IW,&nbsp;</span><span class="rvts25">p_OpenWindow.sReturnTOWindow</span></li>
<li class="rvps2"><span class="rvts11">runs the local procedure,&nbsp;</span><span class="rvts25">p_OpenWindow.sReturnTOWindow.UI_RefreshRequest</span><span class="rvts11">, passing to it the&nbsp;</span><span class="rvts25">sReturnThis</span><span class="rvts11">&nbsp;variable</span></li>
</ul>
<p class="rvps2"><span class="rvts11">​</span></p>
<p class="rvps2"><span class="rvts11">If any of the above "fail", either because a user has "closed a window" or a developer has NOT added the functionality, it "fails silently", without any errors.</span></p>
<p class="rvps2"><span class="rvts11">​</span></p>
<p class="rvps2"><span class="rvts12">ScreenToSource()</span></p>
<p class="rvps2"><span class="rvts11">You must add&nbsp;</span><span class="rvts25">ScreenToSource()</span><span class="rvts11">, to every screen data elements, after you do any edits [always inside the elements code].</span></p>
<p class="rvps2"><span class="rvts11">This will "preserve" the values of the screen elements, when users&nbsp;navigate between the different iws in the Dynamic TAB.</span></p>
<p class="rvps2"><span class="rvts11">​</span></p>
<p class="rvps2"><span class="rvts12">The Form's Flow</span></p>
<p class="rvps2"><span class="rvts11">When embedding a IW in a Dynamic TAB, you are never 100% sure when everything has been completed.&nbsp;This makes it very difficult to catch errors,&nbsp;in say&nbsp;</span><span class="rvts25">UI_Init(),</span><span class="rvts11">&nbsp;and close the iw from inside&nbsp;</span><span class="rvts25">UI_Init()</span><span class="rvts11">.</span></p>
<p class="rvps2"><span class="rvts11">To work around this issue, we have an "error mechanism" inside these "dangerous areas".</span></p>
<p class="rvps2"><span class="rvts11">All errors found, say in&nbsp;</span><span class="rvts25">UI_Init(,)</span><span class="rvts11">&nbsp;are reported through a call to&nbsp;</span><span class="rvts25">RequestUpdateUI()</span><span class="rvts11">.</span></p>
<p class="rvps2"><span class="rvts25">RequestUpdateUI()</span><span class="rvts11">&nbsp;then calls&nbsp;</span><span class="rvts25">a360RefreshDisplayOfWindow(),</span><span class="rvts11">&nbsp;that takes care of the errors.</span></p>
<p class="rvps2"><span class="rvts11">​</span></p>
<p class="rvps2"><span class="rvts11">Read PCSofts&nbsp;</span><span class="rvts25">RequestUpdateUI()</span><span class="rvts11">&nbsp;documentation for more information.</span></p>
<p></p>

            </div>
            
            <div id="topic_footer"><div id="topic_footer_content">Copyright &copy; 2020 by computerplus. All Rights Reserved.</div></div>
        </div>  <!-- /#topic-content -->
    </article>

    <footer></footer>

  </div>  <!-- /#main -->

  <div class="mask" data-toggle="sm-nav-expanded"></div>
  
  <!-- Modal -->
  <div class="modal fade" id="hndModal" tabindex="-1" role="dialog" aria-labelledby="hndModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="hndModalLabel"></h4>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary modal-btn-close" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="vendors/jquery-3.4.1/jquery.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/bootstrap.min.js"></script>
  <script src="vendors/markjs-8.11.1/jquery.mark.min.js"></script>
  <script src="vendors/uri-1.19.1/uri.min.js"></script>
  <script src="vendors/imageMapResizer-1.0.7/imageMapResizer.min.js"></script>
  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <script src="vendors/bootstrap-3.4.1/js/ie10-viewport-bug-workaround.js"></script>
  
  <!-- Headroom -->
  <script src="vendors/headroom-0.9.4/headroom.min.js"></script>
  <script src="vendors/headroom-0.9.4/jquery.headroom.min.js"></script>

  <!-- JsTree -->
  <script src="vendors/jstree-3.3.7/jstree.min.js"></script>

  <!-- HelpNDoc scripts -->
  <script src="_translations.js"></script>
  <script src="js/hndsd.min.js"></script>
  <script src="js/hndse.min.js"></script>
  <script src="js/app.min.js"></script>

  <!-- Scripts -->
  <script>
    $(function() {
      // Create the app
      var app = new Hnd.App();
      // Update translations
      hnd_ut(app);
	  // Instanciate imageMapResizer
	  imageMapResize();
	  // Custom JS
	  
      // Boot the app
      app.Boot();
    });
  </script>



</body>

</html>

